(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"+GDw":function(t,n,e){"use strict";e.r(n);var o=e("CcnG"),l=function(){},a=e("pMnS"),s=e("Ip0R"),i=e("CGRW"),u=e("h5Rr"),r=function(){function t(t,n){this.stateService=t,this.router=n}return t.prototype.logOut=function(){this.stateService.removeAuthToken(),this.router.navigate(["/login"])},t}(),p=e("ZYCi"),c=o.Ja({encapsulation:0,styles:[[".header-bar[_ngcontent-%COMP%]{width:100%;background:#48394f;background:linear-gradient(135deg,#48394f 0,#2f3a5a 100%);filter:progid:DXImageTransform.Microsoft.gradient( startColorstr='#48394f', endColorstr='#2f3a5a', GradientType=1 );height:70px;display:flex;justify-content:flex-end;align-items:center;padding:0 20px;box-sizing:border-box;box-shadow:0 7px 11px -4px rgba(0,0,0,.35);position:relative;z-index:900}.header-btn[_ngcontent-%COMP%]{max-width:90px}"],i.a],data:{}});function h(t){return o.bb(0,[(t()(),o.La(0,0,null,null,2,"nav",[["class","header-bar"]],null,null,null,null,null)),(t()(),o.La(1,0,null,null,1,"button",[["class","header-btn stms-btn"]],null,[[null,"click"]],function(t,n,e){var o=!0;return"click"===n&&(o=!1!==t.component.logOut()&&o),o},null,null)),(t()(),o.Za(-1,null,["Log out"]))],null,null)}var f=function(){function t(t){this.element=t,this.positionChange=new o.m,this.posX=0,this.posY=0,this._startPos={x:0,y:0},this._dragable=!1,this.hostElement=t.nativeElement,this.parentElement=this.hostElement.parentElement}return Object.defineProperty(t.prototype,"dragable",{set:function(t){t&&(this.posX=t.x,this.posY=t.y)},enumerable:!0,configurable:!0}),t.prototype.onMouseDown=function(t){this._dragable||2==t.button||(this._startPos={x:t.clientX,y:t.clientY},this._dragable=!0,t.preventDefault())},t.prototype.onMouseUp=function(t){this._dragable&&2!=t.button&&(this._dragable=!1,this.positionChange.emit({x:this.posX,y:this.posY}))},t.prototype.onmousemove=function(t){if(this._dragable&&2!=t.button){var n=t.clientY-this._startPos.y;this.posX=Math.max(Math.min(this.posX+(t.clientX-this._startPos.x),this.parentElement.offsetWidth-this.hostElement.offsetWidth),0),this.posY=Math.max(Math.min(this.posY+n,this.parentElement.offsetHeight-this.hostElement.offsetHeight),0),this._startPos={x:t.clientX,y:t.clientY}}},t}(),m=function(){function t(t,n){var e=this;this.viewContainer=t,this.templateRef=n,t.createEmbeddedView(n).rootNodes[0].addEventListener("click",function(){e._clearView()})}return Object.defineProperty(t.prototype,"removeTimer",{set:function(t){var n=this,e=Number(t);setTimeout(function(){n._clearView()},e)},enumerable:!0,configurable:!0}),t.prototype._clearView=function(){this.viewContainer.clear()},t}(),d=e("67Y/"),g=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var l in n=arguments[e])Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l]);return t},b=function(){function t(t,n){this.http=t,this.state=n}return t.prototype.resolve=function(){var t=this;return this.http.post("getUser",{userToken:this.state.getAuthToken()}).pipe(Object(d.a)(function(n){var e=n.json();return t.userData=g({},e),n}))},t.prototype.updateUser=function(t){this.userData=g({},this.userData,t);var n={userToken:this.state.getAuthToken(),user:this.userData};this.http.put("putUser",n)},t}(),v=function(){function t(t){this.userService=t,this.userInfo=this.userService.userData}return t.prototype.changeAvatarPosition=function(t){this.userService.updateUser({avatarPos:t})},t.prototype.changeUsernamePosition=function(t){this.userService.updateUser({usernamePos:t})},t}(),y=o.Ja({encapsulation:0,styles:[[".auth-message-wrapper[_ngcontent-%COMP%]{position:fixed;z-index:1000;width:100vw;height:100vh;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;top:0;left:0}.auth-message[_ngcontent-%COMP%]{text-transform:uppercase;width:100%;max-width:320px;height:100%;max-height:140px;display:flex;align-items:center;justify-content:center;font-size:24px;border:1px solid #fff;border-radius:5px;color:#fff}.auth-wrapper[_ngcontent-%COMP%]{display:flex;min-height:100vh;flex-direction:column}.auth-dragged-content[_ngcontent-%COMP%]{position:relative;flex:auto;display:flex;justify-content:center;align-items:center;background:#f5f6fa}.auth-avatar[_ngcontent-%COMP%]{border-radius:7%}.auth-username[_ngcontent-%COMP%]{display:inline-block;font-size:28px;padding:25px;background-color:#34495e;color:#ecf0f1;border-radius:3%}"]],data:{animation:[{type:7,name:"welcomeAnimation",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:{type:6,styles:{opacity:1},offset:null},timings:"500ms"}],options:null},{type:1,expr:":leave",animation:[{type:6,styles:{opacity:1},offset:null},{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"500ms"}],options:null}],options:{}}]}});function x(t){return o.bb(0,[(t()(),o.La(0,0,null,null,2,"div",[["class","auth-message-wrapper"]],[[24,"@welcomeAnimation",0]],null,null,null,null)),(t()(),o.La(1,0,null,null,1,"div",[["class","auth-message"]],null,null,null,null,null)),(t()(),o.Za(-1,null,["Welcome !!!"]))],null,function(t,n){t(n,0,0,void 0)})}function w(t){return o.bb(0,[o.Ua(0,s.m,[]),(t()(),o.La(1,0,null,null,9,"div",[["class","auth-wrapper"]],null,null,null,null,null)),(t()(),o.La(2,0,null,null,1,"stms-authenticated-header",[],null,null,null,h,c)),o.Ka(3,49152,null,0,r,[u.a,p.k],null,null),(t()(),o.La(4,0,null,null,6,"div",[["class","auth-dragged-content"]],null,null,null,null,null)),(t()(),o.La(5,0,null,null,1,"img",[["class","auth-avatar"]],[[8,"src",4],[4,"position",null],[4,"zIndex",null],[4,"cursor",null],[4,"userSelect",null],[4,"userDrag",null],[4,"left","px"],[4,"top","px"]],[[null,"positionChange"],[null,"mousedown"],["document","mouseup"],["document","mousemove"]],function(t,n,e){var l=!0,a=t.component;return"mousedown"===n&&(l=!1!==o.Ta(t,6).onMouseDown(e)&&l),"document:mouseup"===n&&(l=!1!==o.Ta(t,6).onMouseUp(e)&&l),"document:mousemove"===n&&(l=!1!==o.Ta(t,6).onmousemove(e)&&l),"positionChange"===n&&(l=!1!==a.changeAvatarPosition(e)&&l),l},null,null)),o.Ka(6,16384,null,0,f,[o.k],{dragable:[0,"dragable"]},{positionChange:"positionChange"}),(t()(),o.La(7,0,null,null,3,"div",[["class","auth-username"]],[[4,"position",null],[4,"zIndex",null],[4,"cursor",null],[4,"userSelect",null],[4,"userDrag",null],[4,"left","px"],[4,"top","px"]],[[null,"positionChange"],[null,"mousedown"],["document","mouseup"],["document","mousemove"]],function(t,n,e){var l=!0,a=t.component;return"mousedown"===n&&(l=!1!==o.Ta(t,8).onMouseDown(e)&&l),"document:mouseup"===n&&(l=!1!==o.Ta(t,8).onMouseUp(e)&&l),"document:mousemove"===n&&(l=!1!==o.Ta(t,8).onmousemove(e)&&l),"positionChange"===n&&(l=!1!==a.changeUsernamePosition(e)&&l),l},null,null)),o.Ka(8,16384,null,0,f,[o.k],{dragable:[0,"dragable"]},{positionChange:"positionChange"}),(t()(),o.Za(9,null,["",""])),o.Wa(10,1),(t()(),o.Ca(16777216,null,null,1,null,x)),o.Ka(12,16384,null,0,m,[o.M,o.J],{removeTimer:[0,"removeTimer"]},null)],function(t,n){var e=n.component;t(n,6,0,e.userInfo.avatarPos),t(n,8,0,e.userInfo.usernamePos),t(n,12,0,1700)},function(t,n){var e=n.component;t(n,5,0,"https://api.adorable.io/avatars/200/"+e.userInfo.username+".png","absolute","100","pointer","none","none",o.Ta(n,6).posX,o.Ta(n,6).posY),t(n,7,0,"absolute","100","pointer","none","none",o.Ta(n,8).posX,o.Ta(n,8).posY),t(n,9,0,o.ab(n,9,0,t(n,10,0,o.Ta(n,0),e.userInfo.username)))})}var C=o.Ha("stms-authenticated",v,function(t){return o.bb(0,[(t()(),o.La(0,0,null,null,1,"stms-authenticated",[],null,null,null,w,y)),o.Ka(1,49152,null,0,v,[b],null,null)],null,null)},{},{},[]),P=e("t/Na"),M=function(){};e.d(n,"AuthenticatedModuleNgFactory",function(){return T});var T=o.Ia(l,[],function(t){return o.Ra([o.Sa(512,o.j,o.X,[[8,[a.a,C]],[3,o.j],o.v]),o.Sa(4608,s.j,s.i,[o.s,[2,s.p]]),o.Sa(4608,b,b,[P.c,u.a]),o.Sa(1073742336,p.l,p.l,[[2,p.r],[2,p.k]]),o.Sa(1073742336,M,M,[]),o.Sa(1073742336,s.b,s.b,[]),o.Sa(1073742336,l,l,[]),o.Sa(1024,p.i,function(){return[[{path:"",component:v,resolve:[b]}]]},[])])})}}]);